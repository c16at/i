<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, viewport-fit=cover">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="–ë–æ–≥–¥–∞–Ω–∞">
<meta name="mobile-web-app-capable" content="yes">
<meta name="theme-color" content="#1a1e2e">
<title>–©–æ–¥–µ–Ω–Ω–∏–π –æ–≥–ª—è–¥ 2–°22 ¬´–ë–æ–≥–¥–∞–Ω–∞¬ª</title>

<!-- Inline PWA manifest - will be replaced by JS for better Android support -->
<link rel="manifest" id="manifestLink" href="data:application/json;base64,eyJuYW1lIjoi0KnQvtC00LXQvdC90LjQuSDQvtCz0LvRj9C0INCR0L7Qs9C00LDQvdCwIiwic2hvcnRfbmFtZSI6ItCR0L7Qs9C00LDQvdCwIiwiZGlzcGxheSI6ImZ1bGxzY3JlZW4iLCJzdGFydF91cmwiOiIuLyIsImJhY2tncm91bmRfY29sb3IiOiIjMWExZTJlIiwidGhlbWVfY29sb3IiOiIjMWExZTJlIn0=">
<script>
// Generate proper manifest blob for Android Chrome fullscreen PWA
(function() {
  var manifest = {
    name: "–©–æ–¥–µ–Ω–Ω–∏–π –æ–≥–ª—è–¥ –ë–æ–≥–¥–∞–Ω–∞",
    short_name: "–ë–æ–≥–¥–∞–Ω–∞",
    display: "fullscreen",
    orientation: "portrait",
    start_url: "./",
    background_color: "#1a1e2e",
    theme_color: "#1a1e2e",
    icons: [{
      src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxOTIiIGhlaWdodD0iMTkyIj48cmVjdCB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE5MiIgcng9IjM4IiBmaWxsPSIjMWExZTJlIi8+PHRleHQgeD0iOTYiIHk9Ijc1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iNTAiIGZpbGw9IiNkNGE4NDMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj4y0KEyMjwvdGV4dD48dGV4dCB4PSI5NiIgeT0iMTI1IiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM5NWE1YTYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPtCn0LXQui3Qu9GW0YHRgjwvdGV4dD48L3N2Zz4=",
      sizes: "192x192",
      type: "image/svg+xml"
    }, {
      src: "data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1MTIiIGhlaWdodD0iNTEyIj48cmVjdCB3aWR0aD0iNTEyIiBoZWlnaHQ9IjUxMiIgcng9IjEwMCIgZmlsbD0iIzFhMWUyZSIvPjx0ZXh0IHg9IjI1NiIgeT0iMjAwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMTMwIiBmaWxsPSIjZDRhODQzIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmb250LXdlaWdodD0iYm9sZCI+MtChMjI8L3RleHQ+PHRleHQgeD0iMjU2IiB5PSIzMzAiIGZvbnQtZmFtaWx5PSJBcmlhbCIgZm9udC1zaXplPSI1NSIgZmlsbD0iIzk1YTVhNiIgdGV4dC1hbmNob3I9Im1pZGRsZSI+0KfQtdC6LdC70ZbRgdGCPC90ZXh0Pjwvc3ZnPg==",
      sizes: "512x512",
      type: "image/svg+xml"
    }]
  };
  try {
    var blob = new Blob([JSON.stringify(manifest)], { type: 'application/json' });
    var url = URL.createObjectURL(blob);
    var link = document.getElementById('manifestLink');
    if (link) link.href = url;
  } catch(e) {}
})();
</script>

<!-- Inline SVG icon for apple-touch-icon -->
<link rel="apple-touch-icon" href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxODAiIGhlaWdodD0iMTgwIj48cmVjdCB3aWR0aD0iMTgwIiBoZWlnaHQ9IjE4MCIgcng9IjM2IiBmaWxsPSIjMWExZTJlIi8+PHRleHQgeD0iOTAiIHk9IjcwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iNTAiIGZpbGw9IiNkNGE4NDMiIHRleHQtYW5jaG9yPSJtaWRkbGUiIGZvbnQtd2VpZ2h0PSJib2xkIj4y0KEyMjwvdGV4dD48dGV4dCB4PSI5MCIgeT0iMTIwIiBmb250LWZhbWlseT0iQXJpYWwiIGZvbnQtc2l6ZT0iMjAiIGZpbGw9IiM5NWE1YTYiIHRleHQtYW5jaG9yPSJtaWRkbGUiPtCn0LXQui3Qu9GW0YHRgjwvdGV4dD48L3N2Zz4=">

<style>
:root {
  --font-heading: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Helvetica Neue', Arial, sans-serif;
  --font-body: -apple-system, BlinkMacSystemFont, 'SF Pro Text', 'Helvetica Neue', Arial, sans-serif;
  --bg-dark: #1a1e2e;
  --bg-card: #232840;
  --bg-card-hover: #2a3050;
  --accent-gold: #d4a843;
  --accent-gold-dim: #a07e30;
  --accent-red: #c0392b;
  --accent-red-light: #e74c3c;
  --accent-green: #27ae60;
  --accent-green-light: #2ecc71;
  --accent-blue: #2980b9;
  --accent-blue-light: #3498db;
  --accent-orange: #e67e22;
  --text-primary: #ecf0f1;
  --text-secondary: #95a5a6;
  --text-dim: #7f8c8d;
  --border-subtle: rgba(255,255,255,0.08);
  --shadow-card: 0 4px 20px rgba(0,0,0,0.3);
}

* { margin: 0; padding: 0; box-sizing: border-box; }

html {
  /* iOS safe area */
  padding: env(safe-area-inset-top) env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left);
}

body {
  font-family: var(--font-body);
  background: var(--bg-dark);
  color: var(--text-primary);
  min-height: 100vh;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -webkit-text-size-adjust: 100%;
  /* iOS: prevent text selection on rapid taps */
  -webkit-user-select: none;
  user-select: none;
}

/* Noise texture overlay */
body::before {
  content: '';
  position: fixed;
  top: 0; left: 0; right: 0; bottom: 0;
  background: radial-gradient(ellipse at 30% 20%, rgba(212,168,67,0.03) 0%, transparent 60%);
  pointer-events: none;
  z-index: 0;
}

.container {
  max-width: 700px;
  margin: 0 auto;
  padding: 16px;
  position: relative;
  z-index: 1;
}

/* ===== iOS Safari fix: make all interactive elements tappable ===== */
button, .check-item, .category-header, .tab-btn {
  cursor: pointer;
  -webkit-tap-highlight-color: rgba(212,168,67,0.15);
  touch-action: manipulation;
}

/* ===== HEADER ===== */
.header {
  text-align: center;
  padding: 30px 16px 24px;
  position: relative;
  margin-bottom: 20px;
}

.header::after {
  content: '';
  position: absolute;
  bottom: 0;
  left: 50%;
  transform: translateX(-50%);
  width: 160px;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--accent-gold), transparent);
}

.header-badge {
  display: inline-block;
  background: linear-gradient(135deg, var(--accent-gold-dim), var(--accent-gold));
  color: var(--bg-dark);
  font-family: var(--font-heading);
  font-weight: 700;
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  padding: 5px 16px;
  border-radius: 2px;
  margin-bottom: 14px;
}

.header h1 {
  font-family: var(--font-heading);
  font-size: 28px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  line-height: 1.15;
  margin-bottom: 6px;
}

.header h1 span {
  color: var(--accent-gold);
}

.header-subtitle {
  font-size: 13px;
  color: var(--text-secondary);
  font-weight: 400;
  line-height: 1.4;
}

/* ===== INSTALL BANNER ===== */
.install-banner {
  background: linear-gradient(135deg, rgba(212,168,67,0.15), rgba(212,168,67,0.05));
  border: 1px solid rgba(212,168,67,0.3);
  border-radius: 10px;
  padding: 14px 16px;
  margin-bottom: 16px;
  display: none;
  align-items: flex-start;
  gap: 12px;
}

.install-banner.show {
  display: flex;
}

.install-banner-icon {
  font-size: 24px;
  flex-shrink: 0;
  margin-top: 2px;
}

.install-banner-text {
  font-size: 13px;
  line-height: 1.5;
  color: var(--text-primary);
}

.install-banner-text strong {
  color: var(--accent-gold);
}

.install-banner-close {
  background: none;
  border: none;
  color: var(--text-dim);
  font-size: 20px;
  flex-shrink: 0;
  padding: 0 4px;
  line-height: 1;
}

/* ===== PROGRESS BAR ===== */
.progress-section {
  background: var(--bg-card);
  border-radius: 10px;
  padding: 16px 18px;
  margin-bottom: 16px;
  box-shadow: var(--shadow-card);
  border: 1px solid var(--border-subtle);
}

.progress-top {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.progress-label {
  font-family: var(--font-heading);
  font-size: 12px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  color: var(--text-secondary);
}

.progress-count {
  font-family: var(--font-heading);
  font-size: 22px;
  font-weight: 700;
  color: var(--accent-gold);
}

.progress-count span {
  color: var(--text-dim);
  font-weight: 400;
  font-size: 16px;
}

.progress-bar-bg {
  width: 100%;
  height: 6px;
  background: rgba(255,255,255,0.06);
  border-radius: 3px;
  overflow: hidden;
}

.progress-bar-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent-gold-dim), var(--accent-gold));
  border-radius: 3px;
  transition: width 0.5s ease;
  width: 0%;
}

.progress-status {
  text-align: center;
  margin-top: 10px;
  font-size: 12px;
  color: var(--text-dim);
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  transition: color 0.3s ease;
}

.progress-status.complete {
  color: var(--accent-green);
}

/* ===== TAB NAVIGATION ===== */
.tabs {
  display: flex;
  gap: 3px;
  margin-bottom: 16px;
  background: rgba(0,0,0,0.25);
  border-radius: 10px;
  padding: 3px;
  /* iOS fix: ensure tappable */
  position: relative;
  z-index: 2;
}

.tab-btn {
  flex: 1;
  background: transparent;
  border: none;
  color: var(--text-dim);
  font-family: var(--font-heading);
  font-size: 12px;
  font-weight: 600;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  padding: 11px 8px;
  border-radius: 8px;
  transition: all 0.25s ease;
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 4px;
  /* iOS Safari fix */
  -webkit-appearance: none;
  appearance: none;
  outline: none;
}

.tab-btn:active {
  transform: scale(0.97);
}

.tab-btn.active {
  background: var(--bg-card);
  color: var(--accent-gold);
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

.tab-emoji {
  font-size: 18px;
}

.tab-label {
  font-size: 10px;
  letter-spacing: 1px;
}

.tab-count {
  font-size: 10px;
  background: rgba(255,255,255,0.08);
  padding: 1px 6px;
  border-radius: 8px;
  font-weight: 700;
}

.tab-btn.active .tab-count {
  background: var(--accent-gold);
  color: var(--bg-dark);
}

/* ===== SECTIONS ===== */
.section-panel {
  display: none;
}

.section-panel.active {
  display: block;
  animation: fadeIn 0.25s ease;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}

/* ===== CATEGORY CARDS ===== */
.category {
  background: var(--bg-card);
  border-radius: 10px;
  margin-bottom: 12px;
  box-shadow: var(--shadow-card);
  border: 1px solid var(--border-subtle);
  overflow: hidden;
  transition: border-color 0.3s ease;
}

.category.all-checked {
  border-color: var(--accent-green);
}

.category-header {
  display: flex;
  align-items: center;
  padding: 14px 16px;
  gap: 12px;
  transition: background 0.15s ease;
}

.cat-toggle {
  display: flex;
  align-items: center;
  gap: 10px;
  flex-shrink: 0;
  padding: 6px 10px;
  margin: -6px -10px -6px 0;
  border-radius: 8px;
  cursor: pointer;
  -webkit-tap-highlight-color: rgba(212,168,67,0.15);
  touch-action: manipulation;
  transition: background 0.15s ease;
}

.cat-toggle:active {
  background: rgba(255,255,255,0.08);
}

.cat-icon {
  width: 36px;
  height: 36px;
  border-radius: 8px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 16px;
  flex-shrink: 0;
}

.cat-icon.crit { background: rgba(192,57,43,0.2); color: var(--accent-red-light); }
.cat-icon.warn { background: rgba(230,126,34,0.2); color: var(--accent-orange); }
.cat-icon.info { background: rgba(41,128,185,0.2); color: var(--accent-blue-light); }

.cat-info { flex: 1; min-width: 0; }

.cat-title {
  font-family: var(--font-heading);
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 0.5px;
  text-transform: uppercase;
  line-height: 1.3;
}

.cat-subtitle {
  font-size: 11px;
  color: var(--text-dim);
  margin-top: 2px;
}

.cat-progress {
  font-family: var(--font-heading);
  font-size: 13px;
  color: var(--text-dim);
  flex-shrink: 0;
  font-weight: 700;
}

.cat-progress .done {
  color: var(--accent-green);
}

.cat-chevron {
  color: var(--text-dim);
  transition: transform 0.3s ease;
  font-size: 14px;
  flex-shrink: 0;
}

.category.open .cat-chevron {
  transform: rotate(180deg);
}

/* ===== CHECKLIST ITEMS ===== */
.cat-body {
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.35s ease;
}

.category.open .cat-body {
  max-height: 3000px;
}

.check-item {
  display: flex;
  align-items: flex-start;
  gap: 12px;
  padding: 12px 16px;
  border-top: 1px solid var(--border-subtle);
  transition: background 0.15s ease, opacity 0.3s ease;
  /* iOS Safari: CRITICAL fix for tap events */
  -webkit-tap-highlight-color: rgba(39,174,96,0.1);
}

.check-item:active {
  background: rgba(255,255,255,0.03);
}

.check-item.checked {
  opacity: 0.45;
}

.check-item.checked .check-text {
  text-decoration: line-through;
  color: var(--text-dim);
}

.checkbox {
  width: 24px;
  height: 24px;
  border-radius: 6px;
  border: 2px solid var(--text-dim);
  display: flex;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  margin-top: 1px;
  transition: all 0.2s ease;
  font-size: 14px;
  color: transparent;
  /* iOS: prevent zoom on double tap */
  touch-action: manipulation;
}

.check-item.checked .checkbox {
  background: var(--accent-green);
  border-color: var(--accent-green);
  color: #fff;
}

.check-text {
  font-size: 14px;
  line-height: 1.5;
  color: var(--text-primary);
  transition: all 0.2s ease;
  /* Allow text selection for reading */
  -webkit-user-select: text;
  user-select: text;
}

.check-text .hint {
  display: block;
  font-size: 11px;
  color: var(--accent-gold-dim);
  margin-top: 3px;
  font-style: italic;
  line-height: 1.4;
}

/* ===== WARNING BOX ===== */
.warning-box {
  background: rgba(192,57,43,0.1);
  border-left: 3px solid var(--accent-red);
  padding: 12px 14px;
  margin: 12px 16px;
  border-radius: 0 8px 8px 0;
  font-size: 12px;
  line-height: 1.5;
  color: var(--accent-red-light);
}

.warning-box strong {
  display: block;
  margin-bottom: 3px;
  font-size: 11px;
  letter-spacing: 1px;
  text-transform: uppercase;
}

/* ===== RESET BUTTON ===== */
.reset-section {
  text-align: center;
  padding: 24px 0 40px;
}

.reset-btn {
  background: transparent;
  border: 1.5px solid var(--text-dim);
  color: var(--text-dim);
  font-family: var(--font-heading);
  font-size: 12px;
  letter-spacing: 1.5px;
  text-transform: uppercase;
  padding: 10px 24px;
  border-radius: 6px;
  -webkit-appearance: none;
  appearance: none;
  transition: all 0.2s ease;
}

.reset-btn:active {
  border-color: var(--accent-red);
  color: var(--accent-red);
  transform: scale(0.97);
}

/* ===== REPORT SECTION ===== */
.report-section {
  background: var(--bg-card);
  border-radius: 10px;
  padding: 20px 18px;
  margin-bottom: 16px;
  box-shadow: var(--shadow-card);
  border: 1px solid var(--border-subtle);
}

.report-title {
  font-family: var(--font-heading);
  font-size: 14px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--accent-gold);
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.report-field {
  margin-bottom: 14px;
}

.report-label {
  font-size: 11px;
  color: var(--text-secondary);
  letter-spacing: 1px;
  text-transform: uppercase;
  font-weight: 700;
  margin-bottom: 6px;
  display: block;
}

.report-input {
  width: 100%;
  background: rgba(0,0,0,0.25);
  border: 1.5px solid var(--border-subtle);
  border-radius: 8px;
  padding: 12px 14px;
  color: var(--text-primary);
  font-family: var(--font-body);
  font-size: 15px;
  outline: none;
  transition: border-color 0.2s ease;
  -webkit-appearance: none;
  appearance: none;
  /* Allow text input */
  -webkit-user-select: text;
  user-select: text;
}

.report-input:focus {
  border-color: var(--accent-gold);
}

.report-input::placeholder {
  color: var(--text-dim);
  font-size: 13px;
}

textarea.report-input {
  min-height: 80px;
  resize: vertical;
  line-height: 1.5;
}

.report-callsign-saved {
  font-size: 11px;
  color: var(--accent-green);
  margin-top: 4px;
  opacity: 0;
  transition: opacity 0.3s ease;
}

.report-callsign-saved.show {
  opacity: 1;
}

.send-btn {
  width: 100%;
  background: linear-gradient(135deg, var(--accent-gold-dim), var(--accent-gold));
  color: var(--bg-dark);
  border: none;
  font-family: var(--font-heading);
  font-size: 15px;
  font-weight: 700;
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 14px 20px;
  border-radius: 8px;
  -webkit-appearance: none;
  appearance: none;
  transition: all 0.2s ease;
  margin-top: 6px;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
}

.send-btn:active {
  transform: scale(0.97);
  opacity: 0.9;
}

.send-btn:disabled {
  opacity: 0.4;
  transform: none;
}

.send-btn-icon {
  font-size: 18px;
}

.report-preview {
  background: rgba(0,0,0,0.3);
  border-radius: 8px;
  padding: 14px;
  margin-top: 14px;
  font-size: 12px;
  line-height: 1.6;
  color: var(--text-secondary);
  white-space: pre-wrap;
  word-break: break-word;
  display: none;
  border: 1px dashed var(--border-subtle);
}

.report-preview.show {
  display: block;
}

.report-preview-label {
  font-size: 10px;
  color: var(--text-dim);
  letter-spacing: 1px;
  text-transform: uppercase;
  margin-bottom: 6px;
  font-weight: 700;
}

.report-fallback {
  display: none;
  margin-top: 10px;
  text-align: center;
}

.report-fallback.show {
  display: block;
}

.copy-btn {
  background: rgba(255,255,255,0.1);
  color: var(--text-primary);
  border: 1.5px solid var(--border-subtle);
  font-family: var(--font-heading);
  font-size: 12px;
  letter-spacing: 1px;
  text-transform: uppercase;
  padding: 10px 20px;
  border-radius: 6px;
  -webkit-appearance: none;
  appearance: none;
  transition: all 0.2s ease;
}

.copy-btn:active {
  background: var(--accent-green);
  border-color: var(--accent-green);
  color: #fff;
  transform: scale(0.97);
}

.report-hint {
  font-size: 11px;
  color: var(--text-dim);
  text-align: center;
  margin-top: 10px;
  line-height: 1.5;
}

/* ===== FOOTER ===== */
.footer {
  text-align: center;
  padding: 16px;
  border-top: 1px solid var(--border-subtle);
  font-size: 11px;
  color: var(--text-dim);
  letter-spacing: 0.5px;
  line-height: 1.6;
  padding-bottom: calc(16px + env(safe-area-inset-bottom));
}

/* ===== RESPONSIVE ===== */
@media (max-width: 380px) {
  .container { padding: 10px; }
  .header h1 { font-size: 24px; }
  .tab-label { font-size: 9px; }
}

@media print {
  body { background: white; color: #222; }
  .tabs, .progress-section, .reset-section, .footer, .install-banner { display: none !important; }
  .section-panel { display: block !important; }
  .cat-body { max-height: 3000px !important; }
  .category { break-inside: avoid; border: 1px solid #ccc; }
}
</style>
</head>
<body>

<div class="container">

  <!-- INSTALL BANNER -->
  <div class="install-banner" id="installBanner">
    <div class="install-banner-icon">üì≤</div>
    <div class="install-banner-text" id="installBannerText">
      <strong>–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ —è–∫ –¥–æ–¥–∞—Ç–æ–∫:</strong><br>
      <span id="installInstructions"></span>
    </div>
    <button class="install-banner-close" onclick="closeBanner()">‚úï</button>
  </div>

  <!-- FULLSCREEN BUTTON (shows only in browser, not in PWA) -->
  <div id="fullscreenBar" style="display:none; text-align:center; margin-bottom:12px;">
    <button id="fullscreenBtn" style="
      background: linear-gradient(135deg, rgba(212,168,67,0.2), rgba(212,168,67,0.1));
      border: 1.5px solid rgba(212,168,67,0.4);
      color: var(--accent-gold);
      font-family: var(--font-heading);
      font-size: 12px;
      font-weight: 700;
      letter-spacing: 1px;
      text-transform: uppercase;
      padding: 10px 20px;
      border-radius: 8px;
      -webkit-appearance: none;
      appearance: none;
      cursor: pointer;
      touch-action: manipulation;
      -webkit-tap-highlight-color: rgba(212,168,67,0.15);
    ">‚õ∂ –ù–∞ –≤–µ—Å—å –µ–∫—Ä–∞–Ω</button>
  </div>

  <!-- HEADER -->
  <div class="header">
    <div class="header-badge">–ü–∞–º'—è—Ç–∫–∞ –µ–∫—ñ–ø–∞–∂—É</div>
    <h1>–©–æ–¥–µ–Ω–Ω–∏–π –æ–≥–ª—è–¥<br><span>2–°22 ¬´–ë–æ–≥–¥–∞–Ω–∞¬ª</span></h1>
    <div class="header-subtitle">–ß–µ–∫-–ª–∏—Å—Ç –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–≥–æ –æ–≥–ª—è–¥—É<br>–ê—Ä—Ç–∏–ª–µ—Ä—ñ–π—Å—å–∫–∞ —á–∞—Å—Ç–∏–Ω–∞ + –®–∞—Å—ñ TATRA PHOENIX 8√ó8</div>
  </div>

  <!-- PROGRESS -->
  <div class="progress-section">
    <div class="progress-top">
      <div class="progress-label">–ü—Ä–æ–≥—Ä–µ—Å –æ–≥–ª—è–¥—É</div>
      <div class="progress-count"><span id="checkedCount">0</span> <span>/ <span id="totalCount">0</span></span></div>
    </div>
    <div class="progress-bar-bg">
      <div class="progress-bar-fill" id="progressFill"></div>
    </div>
    <div class="progress-status" id="progressStatus">–û–ì–õ–Ø–î –ù–ï –†–û–ó–ü–û–ß–ê–¢–û</div>
  </div>

  <!-- TABS -->
  <div class="tabs" id="tabsBar">
    <button class="tab-btn active" data-tab="art">
      <span class="tab-emoji">üéØ</span>
      <span class="tab-label">–ê—Ä—Ç—á–∞—Å—Ç–∏–Ω–∞</span>
      <span class="tab-count" id="artTabCount">0/0</span>
    </button>
    <button class="tab-btn" data-tab="chassis">
      <span class="tab-emoji">üöõ</span>
      <span class="tab-label">–®–∞—Å—ñ</span>
      <span class="tab-count" id="chassisTabCount">0/0</span>
    </button>
    <button class="tab-btn" data-tab="ammo">
      <span class="tab-emoji">üí•</span>
      <span class="tab-label">–ë–æ—î–ø—Ä–∏–ø–∞—Å–∏</span>
      <span class="tab-count" id="ammoTabCount">0/0</span>
    </button>
  </div>

  <!-- ====== –ê–†–¢–ò–õ–ï–†–Ü–ô–°–¨–ö–ê –ß–ê–°–¢–ò–ù–ê ====== -->
  <div class="section-panel active" id="panel-art">

    <div class="category open" data-cat="barrel">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon crit">‚öôÔ∏è</div>
        <div class="cat-info">
          <div class="cat-title">–°—Ç–≤–æ–ª —ñ –∑–∞—Ç–≤–æ—Ä</div>
          <div class="cat-subtitle">–ö—Ä–∏—Ç–∏—á–Ω–µ ¬∑ –ü–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="barrel">0</span>/<span data-total="barrel">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="warning-box">
          <strong>‚ö†Ô∏è –£–í–ê–ì–ê</strong>
          –°—Ç—Ä—ñ–ª—å–±–∞ –±–µ–∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –º–∞—Å—Ç–∏–ª–∞ –∑ –∫–∞–Ω–∞–ª—É —Å—Ç–≤–æ–ª–∞ –ó–ê–ë–û–†–û–ù–ï–ù–ê ‚Äî –∑–∞–≥—Ä–æ–∑–∞ —Ä–æ–∑–¥—É—Ç—Ç—è!
        </div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ö–∞–Ω–∞–ª —Å—Ç–≤–æ–ª–∞ ‚Äî —á–∏—Å—Ç–∏–π, –±–µ–∑ –ø–æ—à–∫–æ–¥–∂–µ–Ω—å —Ç–∞ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –ø—Ä–µ–¥–º–µ—Ç—ñ–≤<span class="hint">–í—ñ–∑—É–∞–ª—å–Ω–æ –∑—ñ —Å—Ç–æ—Ä–æ–Ω–∏ –∫–∞–∑–µ–Ω–Ω–∏–∫–∞</span></div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ï–∫—Å—Ü–µ–Ω—Ç—Ä–∏–∫–æ–≤–µ –∫—ñ–ª—å—Ü–µ ‚Äî –±–µ–∑ —É—à–∫–æ–¥–∂–µ–Ω—å, –æ—Ç–≤–æ—Ä–∏ —á–∏—Å—Ç—ñ<span class="hint">–ó–∞–∑–æ—Ä ‚â§0,05–º–º, —â—É–ø 0,06–º–º –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç—å</span></div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–û–±—Ç—é—Ä–∞—Ü—ñ–π–Ω–µ –∫—ñ–ª—å—Ü–µ ‚Äî —á–∏—Å—Ç–µ, –±–µ–∑ —É—à–∫–æ–¥–∂–µ–Ω—å, –≤—ñ–ª—å–Ω–æ —Å—Ç–∞—î –≤ –≥–Ω—ñ–∑–¥–æ</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ó–∞—Ç–≤–æ—Ä ‚Äî –Ω–∞–ø—ñ–≤–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—è/–∑–∞–∫—Ä–∏—Ç—Ç—è –ø—Ä–∞—Ü—é—î<span class="hint">–ö–ª–∏–Ω –¥–æ –∫—Ä–∞–π–Ω—å–æ–≥–æ –Ω–∏–∂–Ω—å–æ–≥–æ –ø–æ–ª–æ–∂–µ–Ω–Ω—è, —Ñ—ñ–∫—Å—É—î—Ç—å—Å—è –∑–∞–º–∫–æ–º</span></div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–£–¥–∞—Ä–Ω–æ-—Å–ø—É—Å–∫–æ–≤–∏–π –º–µ—Ö–∞–Ω—ñ–∑–º ‚Äî –∫—Ä—ñ–ø–ª–µ–Ω–Ω—è, —Å—Ç–∞–Ω, —á–∏—Å—Ç–æ—Ç–∞<span class="hint">–ë–µ–∑ —Å—Ç–æ—Ä–æ–Ω–Ω—ñ—Ö –ø—Ä–µ–¥–º–µ—Ç—ñ–≤ –ø—ñ–¥ –±–æ–π–∫–æ–º</span></div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–î—É–ª—å–Ω–µ –≥–∞–ª—å–º–æ ‚Äî –±–µ–∑ –ø–æ—à–∫–æ–¥–∂–µ–Ω—å, —á–æ—Ö–æ–ª –∑–Ω—è—Ç–∏–π –ø–µ—Ä–µ–¥ —Å—Ç—Ä—ñ–ª—å–±–æ—é</div></div>
      </div>
    </div>

    <div class="category" data-cat="recoil">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon crit">üîß</div>
        <div class="cat-info">
          <div class="cat-title">–ü—Ä–æ—Ç–∏–≤—ñ–¥–∫–æ—Ç–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó</div>
          <div class="cat-subtitle">–ö—Ä–∏—Ç–∏—á–Ω–µ ¬∑ –ì–∞–ª—å–º–æ –≤—ñ–¥–∫–æ—Ç—É + –Ω–∞–∫–∞—Ç–Ω–∏–∫</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="recoil">0</span>/<span data-total="recoil">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å –≤–∏—Ç–æ–∫—ñ–≤ —Ä—ñ–¥–∏–Ω–∏ –∑ –≥–∞–ª—å–º–∞ –≤—ñ–¥–∫–æ—Ç—É —Ç–∞ –Ω–∞–∫–∞—Ç–Ω–∏–∫–∞</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–¢–∏—Å–∫ –≤ –Ω–∞–∫–∞—Ç–Ω–∏–∫—É ‚Äî –≤ –Ω–æ—Ä–º—ñ<span class="hint">–ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –º–∞–Ω–æ–º–µ—Ç—Ä–æ–º –ø–µ—Ä–µ–¥ —Å—Ç—Ä—ñ–ª—å–±–æ—é</span></div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–¢–∏—Å–∫ —É –º–µ—Ö–∞–Ω—ñ–∑–º—ñ –≤—Ä—ñ–≤–Ω–æ–≤–∞–∂—É–≤–∞–ª—å–Ω–æ–º—É ‚Äî –≤ –Ω–æ—Ä–º—ñ</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ó'—î–¥–Ω–∞–Ω–Ω—è —Ç—Ä—É–±–∏ –∑ –≥–∞–ª—å–º–æ–º —ñ –Ω–∞–∫–∞—Ç–Ω–∏–∫–æ–º ‚Äî –Ω–∞–¥—ñ–π–Ω–æ</div></div>
      </div>
    </div>

    <div class="category" data-cat="hydro">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon warn">üíß</div>
        <div class="cat-info">
          <div class="cat-title">–ì—ñ–¥—Ä–æ—Å–∏—Å—Ç–µ–º–∞ —Ç–∞ –Ω–∞–≤–µ–¥–µ–Ω–Ω—è</div>
          <div class="cat-subtitle">–í–∞–∂–ª–∏–≤–µ ¬∑ 15 –≥—ñ–¥—Ä–æ—Ü–∏–ª—ñ–Ω–¥—Ä—ñ–≤</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="hydro">0</span>/<span data-total="hydro">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–†—ñ–≤–µ–Ω—å –æ–ª–∏–≤–∏ –≤ –º–∞—Å–ª–æ–±–∞–∫—É –≥—ñ–¥—Ä–æ—Å–∏—Å—Ç–µ–º–∏ ‚Äî –≤ –Ω–æ—Ä–º—ñ<span class="hint">–ü—Ä–∏ –Ω–µ–æ–±—Ö—ñ–¥–Ω–æ—Å—Ç—ñ –¥–æ–¥–∞—Ç–∏ –¥–æ –Ω–æ—Ä–º–∏</span></div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–í—ñ–¥—Å—É—Ç–Ω—ñ—Å—Ç—å —Ç–µ—á—ñ –∑ –≥—ñ–¥—Ä–æ—Å–∏—Å—Ç–µ–º–∏</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ö–í–ü ‚Äî –∫–æ—Ä–æ–±–∫–∞ –≤—ñ–¥–±–æ—Ä—É –ø–æ—Ç—É–∂–Ω–æ—Å—Ç—ñ –≤–º–∏–∫–∞—î—Ç—å—Å—è</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ú–µ—Ö–∞–Ω—ñ–∑–º –ø–æ–≤–æ—Ä–æ—Ç—É —Ç–∞ –ø—ñ–¥–π–æ–º—É ‚Äî –ø—Ä–∞—Ü—é—é—Ç—å —Å–ø—Ä–∞–≤–Ω–æ</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ó–æ–≤–Ω—ñ—à–Ω—ñ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è –∞–ø–∞—Ä–∞—Ç—É—Ä–∏ –≥—ñ–¥—Ä–æ—Å–∏—Å—Ç–µ–º–∏ ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—ñ</div></div>
      </div>
    </div>

    <div class="category" data-cat="sight">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon info">üî≠</div>
        <div class="cat-info">
          <div class="cat-title">–ü—Ä–∏—Ü—ñ–ª—å–Ω—ñ –ø—Ä–∏—Å—Ç—Ä–æ—ó</div>
          <div class="cat-subtitle">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ ¬∑ –ü—Ä–∏—Ü—ñ–ª + –ø–∞–Ω–æ—Ä–∞–º–∞ –ü–ì-1</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="sight">0</span>/<span data-total="sight">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ü–∞–Ω–æ—Ä–∞–º–∞ —Ç–∞ –ø—Ä–∏—Ü—ñ–ª ‚Äî —Å—Ç–∞–Ω, —á–∏—Å—Ç–æ—Ç–∞ —Å–∫–ª–∞, –ø—Ä–∞—Ü–µ–∑–¥–∞—Ç–Ω—ñ—Å—Ç—å</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ö–æ–ª—ñ–º–∞—Ç–æ—Ä ‚Äî –Ω–∞—è–≤–Ω–∏–π, –∑–∞—á–æ—Ö–ª–µ–Ω–∏–π, —É –∫–∞–±—ñ–Ω—ñ</div></div>
      </div>
    </div>

    <div class="category" data-cat="fix">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon warn">üî©</div>
        <div class="cat-info">
          <div class="cat-title">–ö—Ä—ñ–ø–ª–µ–Ω–Ω—è —Ç–∞ —Ñ—ñ–∫—Å–∞—Ü—ñ—è</div>
          <div class="cat-subtitle">–í–∞–∂–ª–∏–≤–µ ¬∑ –°—Ç—è–∂–∫–∏, –ó–Ü–ü, –ø–æ—Ö—ñ–¥–Ω–µ</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="fix">0</span>/<span data-total="fix">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ö—Ä—ñ–ø–ª–µ–Ω–Ω—è –∞—Ä—Ç—á–∞—Å—Ç–∏–Ω–∏ –¥–æ –ª–æ–Ω–∂–µ—Ä–æ–Ω—ñ–≤ ‚Äî –∑–∞—Ç—è–≥–Ω—É—Ç—ñ<span class="hint">–û—Å–æ–±–ª–∏–≤–∞ —É–≤–∞–≥–∞: —Å—Ç—è–∂–∫–∏ —Ä–∞–º–∏ –∞—Ä—Ç.—á–∞—Å—Ç–∏–Ω–∏ ‚Üî —Ä–∞–º–∏ —à–∞—Å—ñ</span></div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–°—Ç–æ–ø–æ—Ä—ñ–Ω–Ω—è ¬´–ø–æ-–ø–æ—Ö—ñ–¥–Ω–æ–º—É¬ª ‚Äî –Ω–∞–¥—ñ–π–Ω–µ</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ó–Ü–ü ‚Äî –∫–æ–º–ø–ª–µ–∫—Ç–Ω–∏–π, –Ω–∞–¥—ñ–π–Ω–æ –≤ —è—â–∏–∫–∞—Ö</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–î–∂–≥—É—Ç–∏ —ñ –∫–∞–±–µ–ª—ñ ‚Äî –±–µ–∑ –ø–æ—à–∫–æ–¥–∂–µ–Ω—å</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ö—Ä–æ–Ω—à—Ç–µ–π–Ω –ø—Ä–∏—Ü—ñ–ª—É ¬´–ø–æ-–ø–æ—Ö—ñ–¥–Ω–æ–º—É¬ª ‚Äî –∑–∞—Ñ—ñ–∫—Å–æ–≤–∞–Ω–∏–π</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–†–∞–¥—ñ–æ—Å—Ç–∞–Ω—Ü—ñ—è ‚Äî –∫—Ä—ñ–ø–ª–µ–Ω–Ω—è –Ω–∞–¥—ñ–π–Ω–µ</div></div>
        <div class="check-item" data-group="art" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ß–æ—Ö–ª–∏ ‚Äî –Ω–∞ –º—ñ—Å—Ü—ñ, –±–µ–∑ –ø–æ—Ä–∏–≤—ñ–≤</div></div>
      </div>
    </div>

  </div>

  <!-- ====== –®–ê–°–Ü TATRA ====== -->
  <div class="section-panel" id="panel-chassis">

    <div class="category open" data-cat="engine">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon crit">‚õΩ</div>
        <div class="cat-info">
          <div class="cat-title">–î–≤–∏–≥—É–Ω —ñ —Ä—ñ–¥–∏–Ω–∏</div>
          <div class="cat-subtitle">–ö—Ä–∏—Ç–∏—á–Ω–µ ¬∑ –ü–µ—Ä–µ–¥ –∫–æ–∂–Ω–∏–º –≤–∏—ó–∑–¥–æ–º</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="engine">0</span>/<span data-total="engine">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–í–∏—Ç–æ–∫–∏ –ø–æ–≤—ñ—Ç—Ä—è, –ø–∞–ª–∏–≤–∞, –û–† –∞–±–æ –æ–ª—ñ—ó ‚Äî –≤—ñ–¥—Å—É—Ç–Ω—ñ</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–†—ñ–≤–µ–Ω—å –ø–∞–ª–∏–≤–∞ ‚Äî –¥–æ—Å—Ç–∞—Ç–Ω—ñ–π<span class="hint">–í–∏—Ç—Ä–∞—Ç–∞ ‚â§75 –ª/100–∫–º, –∑–∞–ø–∞—Å —Ö–æ–¥—É –¥–æ 850–∫–º</span></div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–†—ñ–≤–µ–Ω—å –º–æ—Ç–æ—Ä–Ω–æ—ó –æ–ª—ñ—ó ‚Äî –Ω–æ—Ä–º–∞</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">AdBlue ‚Äî —Ä—ñ–≤–µ–Ω—å –≤ –Ω–æ—Ä–º—ñ</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–û—Ö–æ–ª–æ–¥–∂—É–≤–∞–ª—å–Ω–∞ —Ä—ñ–¥–∏–Ω–∞ ‚Äî —Ä—ñ–≤–µ–Ω—å –≤ –Ω–æ—Ä–º—ñ</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–†—ñ–¥–∏–Ω–∞ –æ–º–∏–≤–∞—á–∞ –ª–æ–±–æ–≤–æ–≥–æ —Å–∫–ª–∞</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ü–æ–≤—ñ—Ç—Ä—è–Ω–∏–π —Ñ—ñ–ª—å—Ç—Ä ‚Äî —ñ–Ω–¥–∏–∫–∞—Ç–æ—Ä –Ω–µ –≤ —á–µ—Ä–≤–æ–Ω—ñ–π –∑–æ–Ω—ñ<span class="hint">–ó–∞ —Ñ—ñ–ª—å—Ç—Ä–æ–º —É –∑–∞–¥–Ω—ñ–π —á–∞—Å—Ç–∏–Ω—ñ –∫–∞–±—ñ–Ω–∏. –ß–µ—Ä–≤–æ–Ω–µ = –∑–∞–º—ñ–Ω–∏—Ç–∏!</span></div></div>
      </div>
    </div>

    <div class="category" data-cat="wheels">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon crit">üõû</div>
        <div class="cat-info">
          <div class="cat-title">–ö–æ–ª–µ—Å–∞ —ñ –≥–∞–ª—å–º–∞</div>
          <div class="cat-subtitle">–ö—Ä–∏—Ç–∏—á–Ω–µ ¬∑ –®–∏–Ω–∏, —Ç–∏—Å–∫, –∫–æ–ª–æ–¥–∫–∏</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="wheels">0</span>/<span data-total="wheels">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–°—Ç–∞–Ω —Ç–∞ –∑–Ω–æ—Å —à–∏–Ω ‚Äî –≤ –Ω–æ—Ä–º—ñ</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ö–æ–ª—ñ—Å–Ω—ñ –≥–∞–π–∫–∏ ‚Äî –∑–∞—Ç—è–≥–Ω—É—Ç—ñ</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–¢–∏—Å–∫ –ø–æ–≤—ñ—Ç—Ä—è —É –∫–æ–ª–µ—Å–∞—Ö ‚Äî –Ω–æ—Ä–º–∞<span class="hint">–ü–µ—Ä–µ–¥ —Å—Ç—Ä—ñ–ª—å–±–æ—é –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–∫–æ–≤–æ</span></div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ì–∞–ª—å–º—ñ–≤–Ω—ñ –Ω–∞–∫–ª–∞–¥–∫–∏ ‚Äî –≤ –¥–æ–ø—É—Å–∫—É<span class="hint">–ö–æ–Ω—Ç—Ä–æ–ª—å —á–µ—Ä–µ–∑ –æ—Ç–≤–æ—Ä–∏ –≤ –≥–∞–ª—å–º—ñ–≤–Ω–æ–º—É —â–∏—Ç—ñ</span></div></div>
      </div>
    </div>

    <div class="category" data-cat="pneum">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon warn">üå¨Ô∏è</div>
        <div class="cat-info">
          <div class="cat-title">–ü–Ω–µ–≤–º–∞—Ç–∏–∫–∞ —ñ –ø—ñ–¥–≤—ñ—Å–∫–∞</div>
          <div class="cat-subtitle">–í–∞–∂–ª–∏–≤–µ ¬∑ –†–µ—Å–æ—Ä–∏, —Ä–µ–∑–µ—Ä–≤—É–∞—Ä–∏</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="pneum">0</span>/<span data-total="pneum">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ü–Ω–µ–≤–º–∞—Ç–∏—á–Ω—ñ —Ä–µ—Å–æ—Ä–∏ ‚Äî –±–µ–∑ —Ä–æ–∑—Ä–∏–≤—ñ–≤ —ñ —Ç—Ä—ñ—â–∏–Ω</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–í–∏–ø—É—Å–∫ –∫–æ–Ω–¥–µ–Ω—Å–∞—Ç—É –∑ –ø–æ–≤—ñ—Ç—Ä—è–Ω–∏—Ö —Ä–µ–∑–µ—Ä–≤—É–∞—Ä—ñ–≤<span class="hint">–¢—è–≥–æ–≤–∏–π —Ä—É—Ö –∑–∞ –∫—ñ–ª—å—Ü—è –∫–ª–∞–ø–∞–Ω—ñ–≤</span></div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ê–º–æ—Ä—Ç–∏–∑–∞—Ç–æ—Ä–∏ ‚Äî –≥–µ—Ä–º–µ—Ç–∏—á–Ω—ñ (–≤—ñ–∑—É–∞–ª—å–Ω–æ)</div></div>
      </div>
    </div>

    <div class="category" data-cat="steer">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon info">üîÑ</div>
        <div class="cat-info">
          <div class="cat-title">–†—É–ª—å–æ–≤–µ —Ç–∞ —Å–µ—Ä–≤–æ—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</div>
          <div class="cat-subtitle">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ ¬∑ –†—ñ–≤–µ–Ω—å –æ–ª—ñ—ó, –≥–µ—Ä–º–µ—Ç–∏—á–Ω—ñ—Å—Ç—å</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="steer">0</span>/<span data-total="steer">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–û–ª—ñ—è —Å–µ—Ä–≤–æ—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è ‚Äî –º—ñ–∂ —Ä–∏–∑–∫–∞–º–∏<span class="hint">–ü—ñ–¥ –∫–∞–ø–æ—Ç–æ–º –ª—ñ–≤–æ—Ä—É—á. –î–≤–∏–≥—É–Ω –≤–∏–º–∫–Ω–µ–Ω–∏–π, –∫–æ–ª–µ—Å–∞ –ø—Ä—è–º–æ</span></div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ì–µ—Ä–º–µ—Ç–∏—á–Ω—ñ—Å—Ç—å –≥—ñ–¥—Ä–æ–∫–æ–Ω—Ç—É—Ä—É —Å–µ—Ä–≤–æ—É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è</div></div>
      </div>
    </div>

    <div class="category" data-cat="trans">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon info">‚ö°</div>
        <div class="cat-info">
          <div class="cat-title">–¢—Ä–∞–Ω—Å–º—ñ—Å—ñ—è —Ç–∞ –µ–ª–µ–∫—Ç—Ä–∏–∫–∞</div>
          <div class="cat-subtitle">–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–µ ¬∑ –ö–ü–ü, –æ—Å–≤—ñ—Ç–ª–µ–Ω–Ω—è</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="trans">0</span>/<span data-total="trans">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="warning-box">
          <strong>‚ö†Ô∏è –ü–ï–†–ï–î –†–£–•–û–ú</strong>
          –í–∏–º–∫–Ω—É—Ç–∏ —Ä–æ–∑–¥–∞–≤–∞–ª—å–Ω—É –∫–æ—Ä–æ–±–∫—É! –í–∏—Ä—ñ–± —Ä–æ–∑—Ä—è–¥–∂–µ–Ω–∏–π, –≥–∞–ª—å–º–∞ —Å–ø—Ä–∞–≤–Ω—ñ.
        </div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ö–ü–ü —Ç–∞ –¥–æ–¥–∞—Ç–∫–æ–≤—ñ –ø—Ä–∏–≤–æ–¥–∏ ‚Äî —Å—Ç–∞–Ω —Å–ø—Ä–∞–≤–Ω–∏–π</div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–§–∞—Ä–∏, —Å—Ç–æ–ø–∏, –ø–æ–≤–æ—Ä–æ—Ç–∏, –∫–ª–∞–∫—Å–æ–Ω ‚Äî –ø—Ä–∞—Ü—é—é—Ç—å<span class="hint">+ —Å–∫–ª–æ–æ—á–∏—Å–Ω–∏–∫–∏ —Ç–∞ –æ–º–∏–≤–∞—á—ñ</span></div></div>
        <div class="check-item" data-group="chassis" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ï–ª–µ–º–µ–Ω—Ç–∏ –∂–∏–≤–ª–µ–Ω–Ω—è ‚Äî –±–µ–∑ –ø–æ—à–∫–æ–¥–∂–µ–Ω—å, –∫—Ä—ñ–ø–ª–µ–Ω–Ω—è –¥–æ —Ä–∞–º–∏</div></div>
      </div>
    </div>

  </div>

  <!-- ====== –ë–û–Ñ–ü–†–ò–ü–ê–°–ò ====== -->
  <div class="section-panel" id="panel-ammo">

    <div class="category open" data-cat="ammo1">
      <div class="category-header" role="button" tabindex="0">
        <div class="cat-icon crit">üí•</div>
        <div class="cat-info">
          <div class="cat-title">–û–≥–ª—è–¥ –±–æ—î–ø—Ä–∏–ø–∞—Å—ñ–≤</div>
          <div class="cat-subtitle">–ö—Ä–∏—Ç–∏—á–Ω–µ ¬∑ 20 —Å–Ω–∞—Ä—è–¥—ñ–≤ + 20 –∑–∞—Ä—è–¥—ñ–≤</div>
        </div>
        <div class="cat-toggle"><div class="cat-progress"><span class="done" data-done="ammo1">0</span>/<span data-total="ammo1">0</span></div>
        <div class="cat-chevron">‚ñº</div></div>
      </div>
      <div class="cat-body">
        <div class="warning-box">
          <strong>‚ö†Ô∏è –ó–ê–ë–û–†–û–ù–ï–ù–û</strong>
          –ë–æ—î–ø—Ä–∏–ø–∞—Å–∏ –∑ –ø–æ—à–∫–æ–¥–∂–µ–Ω–Ω—è–º–∏ –∞–±–æ —Å—É–º–Ω—ñ–≤–Ω–æ—é —è–∫—ñ—Å—Ç—é ‚Äî –∑–∞–≥—Ä–æ–∑–∞ –∑–∞–≥–∏–±–µ–ª—ñ!
        </div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–°–Ω–∞—Ä—è–¥–∏ ‚Äî –±–µ–∑ —ñ—Ä–∂—ñ, —Ç—Ä—ñ—â–∏–Ω, –∑–∞–±–æ—ó–Ω –Ω–∞ –ø—Ä–æ–≤—ñ–¥–Ω–∏—Ö –ø–æ—è—Å–∫–∞—Ö<span class="hint">–ü—Ä–æ—Ç–µ—Ä—Ç–∏ –≤—ñ–¥ –º–∞—Å—Ç–∏–ª–∞, –ø–∏–ª—É, –ø—ñ—Å–∫—É</span></div></div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ú–∞—Ä–∫—É–≤–∞–Ω–Ω—è –Ω–∞ —Å–Ω–∞—Ä—è–¥–∞—Ö ‚Äî –Ω–∞—è–≤–Ω–µ, –≤–∞–≥–æ–≤—ñ –∑–Ω–∞–∫–∏ —î</div></div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ü—ñ–¥—Ä–∏–≤–Ω–∏–∫–∏ ‚Äî –¥–æ–≥–≤–∏–Ω—á–µ–Ω—ñ, –±–µ–∑ —Ç—Ä—ñ—â–∏–Ω —Ç–∞ –∑—ñ–º'—è—Ç–æ—Å—Ç–µ–π<span class="hint">–ü–æ—à–∫–æ–¥–∂–µ–Ω—ñ ‚Äî –¥–æ —Å—Ç—Ä—ñ–ª—å–±–∏ –ù–ï –¥–æ–ø—É—Å–∫–∞—é—Ç—å—Å—è</span></div></div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ó–∞—Ö–∏—Å–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏ –≤–µ–¥—É—á–∏—Ö –ø–æ—è—Å–∫—ñ–≤ ‚Äî –≤–∏–¥–∞–ª–∏—Ç–∏ –ø–µ—Ä–µ–¥ —Å—Ç—Ä—ñ–ª—å–±–æ—é!<span class="hint">–ù–µ–≤–∏–¥–∞–ª–µ–Ω–Ω—è ‚Üí –∑–∞–∫–ª–∏–Ω—é–≤–∞–Ω–Ω—è —Å–Ω–∞—Ä—è–¥—É!</span></div></div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ó–∞—Ä—è–¥–∏ ‚Äî —Å—É—Ö—ñ, –±–µ–∑ —Ä–æ–∑—Ä–∏–≤—ñ–≤, —à—Ç–∞—Ç–Ω–µ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è<span class="hint">–ó–ê–ë–û–†–û–ù–ï–ù–û: –≤–æ–ª–æ–≥—ñ –∑–∞—Ä—è–¥–∏, —Ä—ñ–∑–Ω—ñ –ø–æ—Ä–æ—Ö—É –≤ –æ–¥–Ω—ñ–π –∑–æ–Ω—ñ</span></div></div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ó–∞—Ä—è–¥–∏ –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∑–∞ –ø–∞—Ä—Ç—ñ—è–º–∏ (–æ–¥–Ω–∞–∫–æ–≤–µ –º–∞—Ä–∫—É–≤–∞–Ω–Ω—è)</div></div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–°–Ω–∞—Ä—è–¥–∏ —ñ –∑–∞—Ä—è–¥–∏ –Ω–∞–¥—ñ–π–Ω–æ –∑–∞—Å—Ç–æ–ø–æ—Ä–µ–Ω—ñ –≤ —è—â–∏–∫–∞—Ö</div></div>
        <div class="check-item" data-group="ammo" role="checkbox" tabindex="0"><div class="checkbox">‚úì</div><div class="check-text">–ü—Ä–∞–π–º–µ—Ä–∏ M82 ‚Äî –≤ –Ω–∞—è–≤–Ω–æ—Å—Ç—ñ, –¥–æ—Å—Ç–∞—Ç–Ω—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å</div></div>
      </div>
    </div>

  </div>

  <!-- REPORT SECTION -->
  <div class="report-section" id="reportSection">
    <div class="report-title">üìã –ó–≤—ñ—Ç –ø—Ä–æ –æ–≥–ª—è–¥</div>

    <div class="report-field">
      <label class="report-label" for="callsignInput">–ü–æ–∑–∏–≤–Ω–∏–π</label>
      <input type="text" class="report-input" id="callsignInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –≤–∞—à –ø–æ–∑–∏–≤–Ω–∏–π..." autocomplete="off" autocorrect="off" spellcheck="false">
      <div class="report-callsign-saved" id="callsignSaved">‚úì –ü–æ–∑–∏–≤–Ω–∏–π –∑–±–µ—Ä–µ–∂–µ–Ω–æ</div>
    </div>

    <div class="report-field">
      <label class="report-label" for="notesInput">–ó–∞—É–≤–∞–∂–µ–Ω–Ω—è (–Ω–µ–æ–±–æ–≤'—è–∑–∫–æ–≤–æ)</label>
      <textarea class="report-input" id="notesInput" placeholder="–í–∏—è–≤–ª–µ–Ω—ñ –Ω–µ–¥–æ–ª—ñ–∫–∏, –ø–æ—Ç—Ä–µ–±–∏ –≤ –∑–∞–ø—á–∞—Å—Ç–∏–Ω–∞—Ö, —ñ–Ω—à–µ..."></textarea>
    </div>

    <div class="report-preview" id="reportPreview">
      <div class="report-preview-label">üëÅÔ∏è –ü–æ–ø–µ—Ä–µ–¥–Ω—ñ–π –ø–µ—Ä–µ–≥–ª—è–¥ –∑–≤—ñ—Ç—É:</div>
      <div id="reportPreviewText"></div>
    </div>

    <button class="send-btn" id="sendBtn">
      <span class="send-btn-icon">üì§</span>
      –ù–∞–¥—ñ—Å–ª–∞—Ç–∏ –∑–≤—ñ—Ç
    </button>

    <div class="report-fallback" id="reportFallback">
      <button class="copy-btn" id="copyBtn">üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç –∑–≤—ñ—Ç—É</button>
    </div>

    <div class="report-hint">–í—ñ–¥–∫—Ä–∏—î –º–µ–Ω—é ¬´–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è¬ª ‚Äî –æ–±–µ—Ä—ñ—Ç—å WhatsApp, Signal, Telegram –∞–±–æ —ñ–Ω—à–∏–π –º–µ—Å–µ–Ω–¥–∂–µ—Ä</div>
  </div>

  <!-- RESET -->
  <div class="reset-section">
    <button class="reset-btn" id="resetBtn">‚Ü∫ –°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –≤—ñ–¥–º—ñ—Ç–∫–∏</button>
  </div>

  <!-- FOOTER -->
  <div class="footer">
    –°–û01-04 –î–ï–ü ¬∑ –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –∑ —Ç–µ—Ö–∫–æ–Ω—Ç—Ä–æ–ª—é —à–∞—Å—ñ TATRA<br>
    –î–ª—è –Ω–∞–≤—á–∞–Ω–Ω—è –µ–∫—ñ–ø–∞–∂—É ¬∑ v2.0 PWA
  </div>

</div>

<script>
(function() {
  'use strict';

  // ===== iOS Safari: use touchend + click for reliable taps =====
  function addTap(el, handler) {
    var fired = false;
    el.addEventListener('touchend', function(e) {
      e.preventDefault();
      if (!fired) {
        fired = true;
        handler(e);
        setTimeout(function() { fired = false; }, 300);
      }
    }, { passive: false });
    el.addEventListener('click', function(e) {
      if (!fired) {
        handler(e);
      }
      fired = false;
    });
  }

  // ===== STORAGE =====
  var STORAGE_KEY = 'bogdana_checklist_v2';

  function saveState() {
    try {
      var items = document.querySelectorAll('.check-item');
      var state = [];
      items.forEach(function(item, i) {
        state.push(item.classList.contains('checked') ? 1 : 0);
      });
      localStorage.setItem(STORAGE_KEY, JSON.stringify(state));
    } catch(e) {}
  }

  function loadState() {
    try {
      var data = localStorage.getItem(STORAGE_KEY);
      if (!data) return;
      var state = JSON.parse(data);
      var items = document.querySelectorAll('.check-item');
      items.forEach(function(item, i) {
        if (state[i]) item.classList.add('checked');
      });
    } catch(e) {}
  }

  // ===== TAB SWITCHING =====
  var tabBtns = document.querySelectorAll('.tab-btn');
  tabBtns.forEach(function(btn) {
    addTap(btn, function() {
      tabBtns.forEach(function(b) { b.classList.remove('active'); });
      document.querySelectorAll('.section-panel').forEach(function(p) { p.classList.remove('active'); });
      btn.classList.add('active');
      var panel = document.getElementById('panel-' + btn.getAttribute('data-tab'));
      if (panel) panel.classList.add('active');
    });
  });

  // ===== CATEGORY TOGGLE (only right side: progress + chevron) =====
  document.querySelectorAll('.cat-toggle').forEach(function(toggle) {
    addTap(toggle, function(e) {
      e.stopPropagation();
      toggle.closest('.category').classList.toggle('open');
    });
  });

  // ===== CHECKBOX TOGGLE =====
  document.querySelectorAll('.check-item').forEach(function(item) {
    addTap(item, function(e) {
      // Don't toggle if user is selecting text in hint
      if (window.getSelection && window.getSelection().toString().length > 0) return;
      item.classList.toggle('checked');
      updateProgress();
      saveState();
      updateReportPreview();
      // Haptic feedback on iOS if available
      if (navigator.vibrate) navigator.vibrate(10);
    });
  });

  // ===== RESET =====
  addTap(document.getElementById('resetBtn'), function() {
    if (confirm('–°–∫–∏–Ω—É—Ç–∏ –≤—Å—ñ –≤—ñ–¥–º—ñ—Ç–∫–∏?')) {
      document.querySelectorAll('.check-item').forEach(function(item) {
        item.classList.remove('checked');
      });
      updateProgress();
      saveState();
      updateReportPreview();
    }
  });

  // ===== PROGRESS UPDATE =====
  function updateProgress() {
    var allItems = document.querySelectorAll('.check-item');
    var checkedItems = document.querySelectorAll('.check-item.checked');
    var total = allItems.length;
    var done = checkedItems.length;

    document.getElementById('checkedCount').textContent = done;
    document.getElementById('totalCount').textContent = total;

    var pct = total > 0 ? (done / total * 100) : 0;
    document.getElementById('progressFill').style.width = pct + '%';

    var status = document.getElementById('progressStatus');
    if (done === 0) {
      status.textContent = '–û–ì–õ–Ø–î –ù–ï –†–û–ó–ü–û–ß–ê–¢–û';
      status.className = 'progress-status';
    } else if (done < total) {
      status.textContent = '–û–ì–õ–Ø–î –í–ò–ö–û–ù–£–Ñ–¢–¨–°–Ø... ' + Math.round(pct) + '%';
      status.className = 'progress-status';
    } else {
      status.textContent = '‚úì –û–ì–õ–Ø–î –ó–ê–í–ï–†–®–ï–ù–û ‚Äî –ì–û–¢–û–í–ò–ô';
      status.className = 'progress-status complete';
    }

    // Category progress
    document.querySelectorAll('.category').forEach(function(cat) {
      var catName = cat.getAttribute('data-cat');
      var catItems = cat.querySelectorAll('.check-item');
      var catChecked = cat.querySelectorAll('.check-item.checked');
      var doneEl = cat.querySelector('[data-done="' + catName + '"]');
      var totalEl = cat.querySelector('[data-total="' + catName + '"]');
      if (doneEl) doneEl.textContent = catChecked.length;
      if (totalEl) totalEl.textContent = catItems.length;
      if (catChecked.length === catItems.length && catItems.length > 0) {
        cat.classList.add('all-checked');
      } else {
        cat.classList.remove('all-checked');
      }
    });

    // Tab counts
    var groups = { art: { done: 0, total: 0 }, chassis: { done: 0, total: 0 }, ammo: { done: 0, total: 0 } };
    allItems.forEach(function(item) {
      var g = item.getAttribute('data-group');
      if (groups[g]) {
        groups[g].total++;
        if (item.classList.contains('checked')) groups[g].done++;
      }
    });
    document.getElementById('artTabCount').textContent = groups.art.done + '/' + groups.art.total;
    document.getElementById('chassisTabCount').textContent = groups.chassis.done + '/' + groups.chassis.total;
    document.getElementById('ammoTabCount').textContent = groups.ammo.done + '/' + groups.ammo.total;
  }

  // ===== INSTALL BANNER + FULLSCREEN =====
  var isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
  var isAndroid = /Android/.test(navigator.userAgent);
  var isStandaloneIOS = window.navigator.standalone === true;
  var isStandalonePWA = window.matchMedia('(display-mode: fullscreen)').matches ||
                        window.matchMedia('(display-mode: standalone)').matches ||
                        isStandaloneIOS;

  function showInstallBanner() {
    var instructions = document.getElementById('installInstructions');
    if (isStandalonePWA) return; // Already installed as PWA

    if (isIOS && !isStandaloneIOS) {
      instructions.innerHTML = '–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å <strong>‚éô –ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è</strong> ‚Üí <strong>–ù–∞ –ü–æ—á–∞—Ç–∫–æ–≤–∏–π –µ–∫—Ä–∞–Ω</strong> ‚Äî –¥–æ–¥–∞—Ç–æ–∫ –±—É–¥–µ –Ω–∞ –≤–µ—Å—å –µ–∫—Ä–∞–Ω –æ—Ñ–ª–∞–π–Ω';
      document.getElementById('installBanner').classList.add('show');
    } else if (isAndroid) {
      instructions.innerHTML = '–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å <strong>‚ãÆ –º–µ–Ω—é</strong> ‚Üí <strong>–î–æ–¥–∞—Ç–∏ –Ω–∞ –≥–æ–ª–æ–≤–Ω–∏–π –µ–∫—Ä–∞–Ω</strong> ‚Äî –≤—ñ–¥–∫—Ä–∏–≤–∞—Ç–∏–º–µ—Ç—å—Å—è –Ω–∞ –≤–µ—Å—å –µ–∫—Ä–∞–Ω —è–∫ –¥–æ–¥–∞—Ç–æ–∫';
      document.getElementById('installBanner').classList.add('show');
    }
  }

  window.closeBanner = function() {
    document.getElementById('installBanner').classList.remove('show');
    try { sessionStorage.setItem('banner_closed', '1'); } catch(e) {}
  };

  // ===== FULLSCREEN API (for Android browser before PWA install) =====
  function setupFullscreen() {
    if (isStandalonePWA) return; // PWA already fullscreen

    var fsBar = document.getElementById('fullscreenBar');
    var fsBtn = document.getElementById('fullscreenBtn');
    var el = document.documentElement;

    // Check if Fullscreen API is available
    var canFullscreen = el.requestFullscreen || el.webkitRequestFullscreen || el.mozRequestFullScreen || el.msRequestFullscreen;
    if (!canFullscreen) return;

    fsBar.style.display = 'block';

    function goFullscreen() {
      if (el.requestFullscreen) el.requestFullscreen();
      else if (el.webkitRequestFullscreen) el.webkitRequestFullscreen();
      else if (el.mozRequestFullScreen) el.mozRequestFullScreen();
      else if (el.msRequestFullscreen) el.msRequestFullscreen();
    }

    function exitFullscreen() {
      if (document.exitFullscreen) document.exitFullscreen();
      else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
      else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
      else if (document.msExitFullscreen) document.msExitFullscreen();
    }

    function isFullscreen() {
      return !!(document.fullscreenElement || document.webkitFullscreenElement || document.mozFullScreenElement || document.msFullscreenElement);
    }

    addTap(fsBtn, function() {
      if (isFullscreen()) {
        exitFullscreen();
      } else {
        goFullscreen();
      }
    });

    // Update button text on fullscreen change
    function onFsChange() {
      if (isFullscreen()) {
        fsBtn.textContent = '‚õ∂ –í–∏–π—Ç–∏ –∑ –ø–æ–≤–Ω–æ–≥–æ –µ–∫—Ä–∞–Ω—É';
        fsBar.style.position = 'fixed';
        fsBar.style.top = '8px';
        fsBar.style.left = '0';
        fsBar.style.right = '0';
        fsBar.style.zIndex = '9999';
      } else {
        fsBtn.textContent = '‚õ∂ –ù–∞ –≤–µ—Å—å –µ–∫—Ä–∞–Ω';
        fsBar.style.position = '';
        fsBar.style.top = '';
        fsBar.style.zIndex = '';
      }
    }

    document.addEventListener('fullscreenchange', onFsChange);
    document.addEventListener('webkitfullscreenchange', onFsChange);
    document.addEventListener('mozfullscreenchange', onFsChange);
    document.addEventListener('MSFullscreenChange', onFsChange);
  }

  setupFullscreen();

  // ===== SERVICE WORKER for offline PWA =====
  if ('serviceWorker' in navigator) {
    // Create inline service worker
    var swCode = "self.addEventListener('install',function(e){self.skipWaiting()});self.addEventListener('activate',function(e){e.waitUntil(clients.claim())});self.addEventListener('fetch',function(e){e.respondWith(caches.match(e.request).then(function(r){return r||fetch(e.request).then(function(resp){return caches.open('bogdana-v2').then(function(cache){cache.put(e.request,resp.clone());return resp})})}))})";
    var swBlob = new Blob([swCode], { type: 'application/javascript' });
    var swUrl = URL.createObjectURL(swBlob);
    navigator.serviceWorker.register(swUrl).catch(function() {
      // Service worker registration may fail for blob URLs in some browsers - that's OK
      // The app still works, just without offline caching via SW
    });
  }

  // ===== CALLSIGN PERSISTENCE =====
  var callsignInput = document.getElementById('callsignInput');
  var notesInput = document.getElementById('notesInput');
  var callsignSaved = document.getElementById('callsignSaved');

  // Load saved callsign
  try {
    var savedCallsign = localStorage.getItem('bogdana_callsign');
    if (savedCallsign) callsignInput.value = savedCallsign;
  } catch(e) {}

  // Save callsign on change
  callsignInput.addEventListener('input', function() {
    try {
      localStorage.setItem('bogdana_callsign', callsignInput.value);
      callsignSaved.classList.add('show');
      setTimeout(function() { callsignSaved.classList.remove('show'); }, 2000);
    } catch(e) {}
    updateReportPreview();
  });

  notesInput.addEventListener('input', function() {
    updateReportPreview();
  });

  // ===== REPORT GENERATION =====
  function generateReport() {
    var now = new Date();
    var date = now.toLocaleDateString('uk-UA', { day: '2-digit', month: '2-digit', year: 'numeric' });
    var time = now.toLocaleTimeString('uk-UA', { hour: '2-digit', minute: '2-digit' });
    var callsign = callsignInput.value.trim() || '(–Ω–µ –≤–∫–∞–∑–∞–Ω–æ)';
    var notes = notesInput.value.trim();

    // Gather category results
    var groups = { art: { done: 0, total: 0 }, chassis: { done: 0, total: 0 }, ammo: { done: 0, total: 0 } };
    var uncheckedItems = [];

    document.querySelectorAll('.check-item').forEach(function(item) {
      var g = item.getAttribute('data-group');
      if (groups[g]) {
        groups[g].total++;
        if (item.classList.contains('checked')) {
          groups[g].done++;
        } else {
          // Get category name
          var cat = item.closest('.category');
          var catTitle = cat ? cat.querySelector('.cat-title').textContent : '';
          var itemText = item.querySelector('.check-text').childNodes[0].textContent.trim();
          uncheckedItems.push('  ‚ùå [' + catTitle + '] ' + itemText);
        }
      }
    });

    var allTotal = groups.art.total + groups.chassis.total + groups.ammo.total;
    var allDone = groups.art.done + groups.chassis.done + groups.ammo.done;

    var artStatus = groups.art.done === groups.art.total ? '‚úÖ' : '‚ö†Ô∏è';
    var chassisStatus = groups.chassis.done === groups.chassis.total ? '‚úÖ' : '‚ö†Ô∏è';
    var ammoStatus = groups.ammo.done === groups.ammo.total ? '‚úÖ' : '‚ö†Ô∏è';

    var overallStatus = allDone === allTotal
      ? '‚úÖ –í–ò–†–Ü–ë –ì–û–¢–û–í–ò–ô –î–û –ë–û–ô–û–í–û–ì–û –í–ò–ö–û–†–ò–°–¢–ê–ù–ù–Ø'
      : '‚ö†Ô∏è –û–ì–õ–Ø–î –ù–ï –ó–ê–í–ï–†–®–ï–ù–û (' + allDone + '/' + allTotal + ')';

    var report = '';
    report += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
    report += 'üìã –û–ì–õ–Ø–î 2–°22 ¬´–ë–û–ì–î–ê–ù–ê¬ª\n';
    report += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n';
    report += 'üìÖ ' + date + ', ' + time + '\n';
    report += 'üë§ –ü–æ–∑–∏–≤–Ω–∏–π: ' + callsign + '\n';
    report += '\n';
    report += artStatus + ' –ê—Ä—Ç—á–∞—Å—Ç–∏–Ω–∞: ' + groups.art.done + '/' + groups.art.total + '\n';
    report += chassisStatus + ' –®–∞—Å—ñ TATRA: ' + groups.chassis.done + '/' + groups.chassis.total + '\n';
    report += ammoStatus + ' –ë–æ—î–ø—Ä–∏–ø–∞—Å–∏: ' + groups.ammo.done + '/' + groups.ammo.total + '\n';

    if (uncheckedItems.length > 0) {
      report += '\n‚ö†Ô∏è –ù–ï –í–ò–ö–û–ù–ê–ù–û:\n';
      report += uncheckedItems.join('\n') + '\n';
    }

    if (notes) {
      report += '\nüìù –ó–∞—É–≤–∞–∂–µ–Ω–Ω—è:\n' + notes + '\n';
    }

    report += '\n' + overallStatus + '\n';
    report += '‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';

    return report;
  }

  // ===== REPORT PREVIEW =====
  function updateReportPreview() {
    var preview = document.getElementById('reportPreview');
    var previewText = document.getElementById('reportPreviewText');
    previewText.textContent = generateReport();
    preview.classList.add('show');
  }

  // Show preview when user starts interacting
  callsignInput.addEventListener('focus', updateReportPreview);
  notesInput.addEventListener('focus', updateReportPreview);

  // ===== SEND REPORT =====
  addTap(document.getElementById('sendBtn'), function() {
    var report = generateReport();

    // Try Web Share API first (works on iOS Safari, Android Chrome)
    if (navigator.share) {
      navigator.share({
        text: report
      }).catch(function(err) {
        // User cancelled or share failed - show copy fallback
        if (err.name !== 'AbortError') {
          showCopyFallback(report);
        }
      });
    } else {
      // Fallback: copy to clipboard
      showCopyFallback(report);
    }
  });

  // ===== COPY FALLBACK =====
  function showCopyFallback(report) {
    var fallback = document.getElementById('reportFallback');
    fallback.classList.add('show');
    updateReportPreview();
  }

  addTap(document.getElementById('copyBtn'), function() {
    var report = generateReport();
    if (navigator.clipboard && navigator.clipboard.writeText) {
      navigator.clipboard.writeText(report).then(function() {
        var btn = document.getElementById('copyBtn');
        btn.textContent = '‚úÖ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!';
        setTimeout(function() { btn.textContent = 'üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç –∑–≤—ñ—Ç—É'; }, 2000);
      }).catch(function() {
        fallbackCopy(report);
      });
    } else {
      fallbackCopy(report);
    }
  });

  function fallbackCopy(text) {
    var ta = document.createElement('textarea');
    ta.value = text;
    ta.style.position = 'fixed';
    ta.style.left = '-9999px';
    document.body.appendChild(ta);
    ta.focus();
    ta.select();
    try {
      document.execCommand('copy');
      var btn = document.getElementById('copyBtn');
      btn.textContent = '‚úÖ –°–∫–æ–ø—ñ–π–æ–≤–∞–Ω–æ!';
      setTimeout(function() { btn.textContent = 'üìã –°–∫–æ–ø—ñ—é–≤–∞—Ç–∏ —Ç–µ–∫—Å—Ç –∑–≤—ñ—Ç—É'; }, 2000);
    } catch(e) {
      alert('–ù–µ –≤–¥–∞–ª–æ—Å—è —Å–∫–æ–ø—ñ—é–≤–∞—Ç–∏. –ë—É–¥—å –ª–∞—Å–∫–∞, —Å–∫–æ–ø—ñ—é–π—Ç–µ —Ç–µ–∫—Å—Ç –∑ –ø–æ–ª—è –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ –ø–µ—Ä–µ–≥–ª—è–¥—É –≤—Ä—É—á–Ω—É.');
      updateReportPreview();
    }
    document.body.removeChild(ta);
  }

  // ===== INIT =====
  loadState();
  updateProgress();
  updateReportPreview();

  if (!sessionStorage.getItem('banner_closed')) {
    showInstallBanner();
  }

})();
</script>

</body>
</html>
